---
title: Información sobre las direcciones URL de MAPI para la indexación basada en notificaciones
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
localization_priority: Normal
ms.assetid: 9cb35f0a-267e-2d85-1701-02d52578a0b8
description: 'Última modificación: 08 de noviembre de 2011'
ms.openlocfilehash: 57868996f95cfb135298378d2638bc57b2e69977
ms.sourcegitcommit: 0cf39e5382b8c6f236c8a63c6036849ed3527ded
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/23/2018
ms.locfileid: "22583676"
---
# <a name="about-mapi-urls-for-notification-based-indexing"></a><span data-ttu-id="a10bd-103">Información sobre las direcciones URL de MAPI para la indexación basada en notificaciones</span><span class="sxs-lookup"><span data-stu-id="a10bd-103">About MAPI URLs for Notification-Based Indexing</span></span>

<span data-ttu-id="a10bd-104">**Se aplica a**: Outlook 2013 | Outlook 2016</span><span class="sxs-lookup"><span data-stu-id="a10bd-104">**Applies to**: Outlook 2013 | Outlook 2016</span></span> 
  
<span data-ttu-id="a10bd-105">Cuando un proveedor de almacén notifica un indizador que un objeto está listo para la indización, genera una dirección URL de MAPI que identifica de forma exclusiva el objeto para el controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="a10bd-105">When a store provider notifies an indexer that an object is ready for indexing, it generates a MAPI URL that uniquely identifies the object to the MAPI Protocol Handler.</span></span> <span data-ttu-id="a10bd-106">Direcciones URL de MAPI está codificadas en Unicode y tener el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="a10bd-106">MAPI URLs are encoded in Unicode, and have the following format:</span></span> 
  
`Mapi://SID/StoreDisplayName ($HashNumber)/StoreType/FolderNameA/…/FolderNameN/[EntryIDEncoded[/at=AttachIDEncoded:FileName]]`

<span data-ttu-id="a10bd-107">En la siguiente tabla se describe las distintas partes de una dirección URL típica.</span><span class="sxs-lookup"><span data-stu-id="a10bd-107">The following table describes the various parts of a typical URL.</span></span>

|<span data-ttu-id="a10bd-108">Parte</span><span class="sxs-lookup"><span data-stu-id="a10bd-108">Part</span></span> | <span data-ttu-id="a10bd-109">Descripción</span><span class="sxs-lookup"><span data-stu-id="a10bd-109">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="a10bd-110">*SID*</span><span class="sxs-lookup"><span data-stu-id="a10bd-110">*SID*</span></span> |<span data-ttu-id="a10bd-111">Identificador de seguridad del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="a10bd-111">The current user's security identifier.</span></span>| 
|<span data-ttu-id="a10bd-112">*StoreDisplayName*</span><span class="sxs-lookup"><span data-stu-id="a10bd-112">*StoreDisplayName*</span></span> |<span data-ttu-id="a10bd-113">Una cadena que especifica el nombre para mostrar del usuario en dicho almacén.</span><span class="sxs-lookup"><span data-stu-id="a10bd-113">A string that specifies the display name of the user on that store.</span></span>|
|<span data-ttu-id="a10bd-114">*Hash*</span><span class="sxs-lookup"><span data-stu-id="a10bd-114">*HashNumber*</span></span> |<span data-ttu-id="a10bd-115">Una **DWORD** en representación hexadecimal que se calcula según el identificador de entrada de almacenamiento o la firma de asignación de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a10bd-115">A **DWORD** in hexadecimal representation that is calculated based on the store entry ID or the store mapping signature.</span></span> <span data-ttu-id="a10bd-116">Este valor se almacena en el registro y se usará más adelante para identificar el almacén en el controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="a10bd-116">This value is stored in the registry and will be used later to identify the store in the MAPI Protocol Handler.</span></span><br/><br/><span data-ttu-id="a10bd-117">Este número se debe calcular en una forma que minimiza los conflictos con otros almacenes.</span><span class="sxs-lookup"><span data-stu-id="a10bd-117">This number must be calculated in a way that minimizes collisions with other stores.</span></span> <span data-ttu-id="a10bd-118">Para el algoritmo que utiliza Microsoft Outlook para calcular el número de hash, vea [algoritmo para calcular el número de Hash de almacén](algorithm-to-calculate-the-store-hash-number.md).</span><span class="sxs-lookup"><span data-stu-id="a10bd-118">For the algorithm that Microsoft Outlook uses to calculate the hash number, see [Algorithm to Calculate the Store Hash Number](algorithm-to-calculate-the-store-hash-number.md).</span></span>|
|<span data-ttu-id="a10bd-119">*StoreType*</span><span class="sxs-lookup"><span data-stu-id="a10bd-119">*StoreType*</span></span> |<span data-ttu-id="a10bd-120">Un número que identifica el tipo del almacén que contiene el objeto que se va a indizar.</span><span class="sxs-lookup"><span data-stu-id="a10bd-120">A number that identifies the type of the store that contains the object to be indexed.</span></span> <span data-ttu-id="a10bd-121">Los valores posibles son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="a10bd-121">The possible values are as follows:</span></span><br/><span data-ttu-id="a10bd-122">Almacén de - 0 - predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a10bd-122">- 0 - Default store.</span></span><br/><br/><span data-ttu-id="a10bd-123">-Almacén delegado 1 -, usado para los elementos de delegado en caché localmente.</span><span class="sxs-lookup"><span data-stu-id="a10bd-123">- 1 - Delegate store, used for delegate items cached locally.</span></span><br/><br/><span data-ttu-id="a10bd-124">-2 - las carpetas públicas, usadas para los favoritos de carpetas públicas.</span><span class="sxs-lookup"><span data-stu-id="a10bd-124">- 2 - Public folders, used for public folder favorites.</span></span><br/><br/><span data-ttu-id="a10bd-125">**Nota**: si el almacén se rastrea en lugar de insertarse, el valor que se utiliza es el carácter*X*.</span><span class="sxs-lookup"><span data-stu-id="a10bd-125">**NOTE**: If the store is being crawled instead of pushed, the value that is used is the character*X*.</span></span>| 
|<span data-ttu-id="a10bd-126">*FolderNameA/.../FolderNameN*</span><span class="sxs-lookup"><span data-stu-id="a10bd-126">*FolderNameA/…/FolderNameN*</span></span> |<span data-ttu-id="a10bd-127">La ruta de acceso desde la raíz del IPM_SUBTREE a la carpeta o mensaje.</span><span class="sxs-lookup"><span data-stu-id="a10bd-127">The path from the root of the IPM_SUBTREE to the folder or message.</span></span> <span data-ttu-id="a10bd-128">Por ejemplo, un mensaje en la carpeta **Bandeja de entrada** **familia** **tiene/Familia de bandeja de entrada** para este parámetro.</span><span class="sxs-lookup"><span data-stu-id="a10bd-128">For example, a message in the **Family** folder under **Inbox** has **Inbox/Family** for this parameter.</span></span> |
|<span data-ttu-id="a10bd-129">*EntryIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="a10bd-129">*EntryIDEncoded*</span></span> |<span data-ttu-id="a10bd-130">Identificador de entrada MAPI para el elemento que se codifican como una cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="a10bd-130">MAPI entry ID for the item encoded as a Unicode string.</span></span> <span data-ttu-id="a10bd-131">Vea la siguiente sección "Caracteres especiales" para obtener información acerca de cómo se codifican determinados caracteres especiales.</span><span class="sxs-lookup"><span data-stu-id="a10bd-131">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="a10bd-132">Para obtener más información acerca del algoritmo para codificar el identificador de entrada, vea el [algoritmo para codificar identificadores de entrada e identificadores de los datos adjuntos](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span><span class="sxs-lookup"><span data-stu-id="a10bd-132">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="a10bd-133">**Nota**: cuando se ven como texto, esto codificado entrada identificador aparece como aleatorio caracteres Hangul o cuadros de acuerdo con el algoritmo, dependiendo de las fuentes disponibles.</span><span class="sxs-lookup"><span data-stu-id="a10bd-133">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span>  |
|<span data-ttu-id="a10bd-134">*AttachIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="a10bd-134">*AttachIDEncoded*</span></span> |<span data-ttu-id="a10bd-135">Identificador de datos adjuntos que se codifican como una cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="a10bd-135">Attachment ID encoded as a Unicode string.</span></span> <span data-ttu-id="a10bd-136">Vea la siguiente sección "Caracteres especiales" para obtener información acerca de cómo se codifican determinados caracteres especiales.</span><span class="sxs-lookup"><span data-stu-id="a10bd-136">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="a10bd-137">Para obtener más información acerca del algoritmo para codificar el identificador de entrada, vea el [algoritmo para codificar identificadores de entrada e identificadores de los datos adjuntos](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span><span class="sxs-lookup"><span data-stu-id="a10bd-137">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="a10bd-138">**Nota**: cuando se ven como texto, esto codificado entrada identificador aparece como aleatorio caracteres Hangul o cuadros de acuerdo con el algoritmo, dependiendo de las fuentes disponibles.</span><span class="sxs-lookup"><span data-stu-id="a10bd-138">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span> |
|<span data-ttu-id="a10bd-139">*FileName*</span><span class="sxs-lookup"><span data-stu-id="a10bd-139">*FileName*</span></span> |<span data-ttu-id="a10bd-140">Nombre de los datos adjuntos de archivos, tal como aparece en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a10bd-140">Name of the attachment file, as it appears in the message.</span></span>|
    
## <a name="examples-of-mapi-urls"></a><span data-ttu-id="a10bd-141">Ejemplos de direcciones URL MAPI</span><span class="sxs-lookup"><span data-stu-id="a10bd-141">Examples of MAPI URLs</span></span>

<span data-ttu-id="a10bd-142">Los siguientes son algunos ejemplos de direcciones URL de MAPI.</span><span class="sxs-lookup"><span data-stu-id="a10bd-142">The following are some examples of MAPI URLs.</span></span>
  
- <span data-ttu-id="a10bd-143">Dirección URL de MAPI para una carpeta:</span><span class="sxs-lookup"><span data-stu-id="a10bd-143">MAPI URL for a folder:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($be19928f)/2/Office`
    
- <span data-ttu-id="a10bd-144">Dirección URL de MAPI para un mensaje:</span><span class="sxs-lookup"><span data-stu-id="a10bd-144">MAPI URL for a message:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Calendar/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾걤곂갠가`
    
- <span data-ttu-id="a10bd-145">Dirección URL de MAPI para los datos adjuntos:</span><span class="sxs-lookup"><span data-stu-id="a10bd-145">MAPI URL for an attachment:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Inbox/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾간곷갦가/at=겅걋각가:somefile.txt`
    
## <a name="special-characters"></a><span data-ttu-id="a10bd-146">Caracteres especiales</span><span class="sxs-lookup"><span data-stu-id="a10bd-146">Special characters</span></span>

<span data-ttu-id="a10bd-147">Algunos caracteres se codifican si aparecen en el mensaje o datos adjuntos.</span><span class="sxs-lookup"><span data-stu-id="a10bd-147">Certain characters are encoded if they appear in the message or attachment.</span></span> <span data-ttu-id="a10bd-148">A continuación muestra qué caracteres se codifican en una dirección URL de MAPI:</span><span class="sxs-lookup"><span data-stu-id="a10bd-148">The following shows which characters are encoded in a MAPI URL:</span></span>
  
- <span data-ttu-id="a10bd-149">% > 25%</span><span class="sxs-lookup"><span data-stu-id="a10bd-149">% > %25</span></span>
    
- <span data-ttu-id="a10bd-150">/ > % 2F</span><span class="sxs-lookup"><span data-stu-id="a10bd-150">/ > %2F</span></span> 
    
- <span data-ttu-id="a10bd-151">\ > 5% C</span><span class="sxs-lookup"><span data-stu-id="a10bd-151">\ > %5C</span></span> 
    
- <span data-ttu-id="a10bd-152">\*> % 2A</span><span class="sxs-lookup"><span data-stu-id="a10bd-152">\* > %2A</span></span> 
    
- <span data-ttu-id="a10bd-153">?</span><span class="sxs-lookup"><span data-stu-id="a10bd-153"></span></span> <span data-ttu-id="a10bd-154">> % 3F</span><span class="sxs-lookup"><span data-stu-id="a10bd-154">> %3F</span></span> 
    
## <a name="blob-associated-with-each-mapi-url"></a><span data-ttu-id="a10bd-155">BLOB asociado a cada dirección URL de MAPI</span><span class="sxs-lookup"><span data-stu-id="a10bd-155">Blob associated with each MAPI URL</span></span>

<span data-ttu-id="a10bd-156">Si se presiona una dirección URL de MAPI para un objeto que se va a indizar, un proveedor de almacén también crea un objeto binario grande (BLOB) que contiene cierta información para el controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="a10bd-156">When pushing a MAPI URL for an object to be indexed, a store provider also creates a binary large object (BLOB) that contains certain information for the MAPI Protocol Handler.</span></span> <span data-ttu-id="a10bd-157">El proveedor de almacenamiento asocia este BLOB con cada dirección URL de MAPI y lo envía cuando la inserción de la dirección URL de MAPI en el indizador.</span><span class="sxs-lookup"><span data-stu-id="a10bd-157">The store provider associates this BLOB with each MAPI URL and sends it when pushing the MAPI URL to the indexer.</span></span> <span data-ttu-id="a10bd-158">El formato del objeto binario es como sigue:</span><span class="sxs-lookup"><span data-stu-id="a10bd-158">The format of the BLOB is as follows:</span></span> 
  
```cpp
DWORD  dwVersion
DWORD  dwFlags
ULONG  cbProfileName
WCHAR  wszProfileName
ULONG  cbProviderItemID
WCHAR  wszProviderItemID
```

<span data-ttu-id="a10bd-159">El proveedor de almacenamiento debe escribir estos valores en el BLOB en el orden mostrado.</span><span class="sxs-lookup"><span data-stu-id="a10bd-159">The store provider must write these values to the BLOB in the order shown.</span></span> <span data-ttu-id="a10bd-160">En la siguiente tabla se describe cada campo del BLOB.</span><span class="sxs-lookup"><span data-stu-id="a10bd-160">The following table describes each field of the BLOB.</span></span>

|<span data-ttu-id="a10bd-161">Parte</span><span class="sxs-lookup"><span data-stu-id="a10bd-161">Part</span></span> | <span data-ttu-id="a10bd-162">Descripción</span><span class="sxs-lookup"><span data-stu-id="a10bd-162">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="a10bd-163">*dwVersion*</span><span class="sxs-lookup"><span data-stu-id="a10bd-163">*dwVersion*</span></span> |<span data-ttu-id="a10bd-164">Esta es la versión de los datos que se está enviados.</span><span class="sxs-lookup"><span data-stu-id="a10bd-164">This is the version of the data being sent.</span></span> <span data-ttu-id="a10bd-165">Actualmente, este valor es 1.</span><span class="sxs-lookup"><span data-stu-id="a10bd-165">Currently this value is 1.</span></span>|
|<span data-ttu-id="a10bd-166">*dwFlags*</span><span class="sxs-lookup"><span data-stu-id="a10bd-166">*dwFlags*</span></span> |<span data-ttu-id="a10bd-167">Reservado para uso posterior.</span><span class="sxs-lookup"><span data-stu-id="a10bd-167">Reserved for future use.</span></span> <span data-ttu-id="a10bd-168">Actualmente, este valor debe ser 0.</span><span class="sxs-lookup"><span data-stu-id="a10bd-168">Currently this value should be 0.</span></span>|
|<span data-ttu-id="a10bd-169">*cbProfileName*</span><span class="sxs-lookup"><span data-stu-id="a10bd-169">*cbProfileName*</span></span> |<span data-ttu-id="a10bd-170">El tamaño del nombre del perfil, en bytes.</span><span class="sxs-lookup"><span data-stu-id="a10bd-170">The size of the profile name, in bytes.</span></span> <span data-ttu-id="a10bd-171">Esta información es útil para el controlador de protocolo MAPI saber qué perfil desea utilizar cuando el elemento de la indización.</span><span class="sxs-lookup"><span data-stu-id="a10bd-171">This information is useful for the MAPI Protocol Handler to know which profile to use when indexing the item.</span></span>|
|<span data-ttu-id="a10bd-172">*wszProfileName*</span><span class="sxs-lookup"><span data-stu-id="a10bd-172">*wszProfileName*</span></span> |<span data-ttu-id="a10bd-173">Cadena de Unicode terminada en null que contiene el nombre del perfil.</span><span class="sxs-lookup"><span data-stu-id="a10bd-173">Null-terminated Unicode string that contains the profile name.</span></span>|
|<span data-ttu-id="a10bd-174">*cbProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="a10bd-174">*cbProviderItemID*</span></span> |<span data-ttu-id="a10bd-175">Tamaño del identificador de elemento de proveedor, en bytes.</span><span class="sxs-lookup"><span data-stu-id="a10bd-175">Size of the provider item ID, in bytes.</span></span> <span data-ttu-id="a10bd-176">El proveedor de almacenamiento debe enviar a sólo el proveedor de identificador de elemento para las carpetas, para impedir la apertura de carpetas adicionales para obtener esta información.</span><span class="sxs-lookup"><span data-stu-id="a10bd-176">The store provider should send only the provider item ID for folders, to prevent opening additional folders to get this information.</span></span>|
|<span data-ttu-id="a10bd-177">*wszProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="a10bd-177">*wszProviderItemID*</span></span> |<span data-ttu-id="a10bd-178">Cadena de Unicode terminada en null con el identificador de elemento del proveedor que identifica de forma exclusiva el elemento en el almacén.</span><span class="sxs-lookup"><span data-stu-id="a10bd-178">Null-terminated Unicode string with the provider item ID that uniquely identifies the item in the store.</span></span>|
    
## <a name="see-also"></a><span data-ttu-id="a10bd-179">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="a10bd-179">See also</span></span>

- [<span data-ttu-id="a10bd-180">Información sobre la indexación de almacenes basada en notificaciones</span><span class="sxs-lookup"><span data-stu-id="a10bd-180">About Notification-Based Store Indexing</span></span>](about-notification-based-store-indexing.md)
- [<span data-ttu-id="a10bd-181">Constantes MAPI</span><span class="sxs-lookup"><span data-stu-id="a10bd-181">MAPI Constants</span></span>](mapi-constants.md)

