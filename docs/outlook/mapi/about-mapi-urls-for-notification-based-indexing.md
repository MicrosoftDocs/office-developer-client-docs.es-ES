---
title: Acerca de las direcciones URL MAPI Notification-Based indexación
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
localization_priority: Normal
ms.assetid: 9cb35f0a-267e-2d85-1701-02d52578a0b8
description: 'Última modificación: 8 de noviembre de 2011'
ms.openlocfilehash: 5a3e45809f36b71968560a4b239e268addf00474
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2019
ms.locfileid: "33422484"
---
# <a name="about-mapi-urls-for-notification-based-indexing"></a><span data-ttu-id="2af43-103">Acerca de las direcciones URL MAPI Notification-Based indexación</span><span class="sxs-lookup"><span data-stu-id="2af43-103">About MAPI URLs for Notification-Based Indexing</span></span>

<span data-ttu-id="2af43-104">**Se aplica a**: Outlook 2013 | Outlook 2016</span><span class="sxs-lookup"><span data-stu-id="2af43-104">**Applies to**: Outlook 2013 | Outlook 2016</span></span> 
  
<span data-ttu-id="2af43-105">Cuando un proveedor de almacén notifica a un indizador que un objeto está listo para la indización, genera una dirección URL MAPI que identifica de forma exclusiva el objeto al controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="2af43-105">When a store provider notifies an indexer that an object is ready for indexing, it generates a MAPI URL that uniquely identifies the object to the MAPI Protocol Handler.</span></span> <span data-ttu-id="2af43-106">Las direcciones URL MAPI se codifican en Unicode y tienen el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="2af43-106">MAPI URLs are encoded in Unicode, and have the following format:</span></span> 
  
`Mapi://SID/StoreDisplayName ($HashNumber)/StoreType/FolderNameA/…/FolderNameN/[EntryIDEncoded[/at=AttachIDEncoded:FileName]]`

<span data-ttu-id="2af43-107">En la tabla siguiente se describen las distintas partes de una dirección URL típica.</span><span class="sxs-lookup"><span data-stu-id="2af43-107">The following table describes the various parts of a typical URL.</span></span>

|<span data-ttu-id="2af43-108">Parte</span><span class="sxs-lookup"><span data-stu-id="2af43-108">Part</span></span> | <span data-ttu-id="2af43-109">Descripción</span><span class="sxs-lookup"><span data-stu-id="2af43-109">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="2af43-110">*SID*</span><span class="sxs-lookup"><span data-stu-id="2af43-110">*SID*</span></span> |<span data-ttu-id="2af43-111">Identificador de seguridad del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="2af43-111">The current user's security identifier.</span></span>| 
|<span data-ttu-id="2af43-112">*StoreDisplayName*</span><span class="sxs-lookup"><span data-stu-id="2af43-112">*StoreDisplayName*</span></span> |<span data-ttu-id="2af43-113">Cadena que especifica el nombre para mostrar del usuario en ese almacén.</span><span class="sxs-lookup"><span data-stu-id="2af43-113">A string that specifies the display name of the user on that store.</span></span>|
|<span data-ttu-id="2af43-114">*HashNumber*</span><span class="sxs-lookup"><span data-stu-id="2af43-114">*HashNumber*</span></span> |<span data-ttu-id="2af43-115">**DWORD en** representación hexadecimal que se calcula en función del identificador de entrada del almacén o de la firma de asignación de almacén.</span><span class="sxs-lookup"><span data-stu-id="2af43-115">A **DWORD** in hexadecimal representation that is calculated based on the store entry ID or the store mapping signature.</span></span> <span data-ttu-id="2af43-116">Este valor se almacena en el Registro y se usará más adelante para identificar el almacén en el controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="2af43-116">This value is stored in the registry and will be used later to identify the store in the MAPI Protocol Handler.</span></span><br/><br/><span data-ttu-id="2af43-117">Este número debe calcularse de forma que minimice las colisiones con otros almacenes.</span><span class="sxs-lookup"><span data-stu-id="2af43-117">This number must be calculated in a way that minimizes collisions with other stores.</span></span> <span data-ttu-id="2af43-118">Para obtener el algoritmo que Microsoft Outlook usa para calcular el número hash, vea [Algoritmo para calcular el número hash del almacén.](algorithm-to-calculate-the-store-hash-number.md)</span><span class="sxs-lookup"><span data-stu-id="2af43-118">For the algorithm that Microsoft Outlook uses to calculate the hash number, see [Algorithm to Calculate the Store Hash Number](algorithm-to-calculate-the-store-hash-number.md).</span></span>|
|<span data-ttu-id="2af43-119">*StoreType*</span><span class="sxs-lookup"><span data-stu-id="2af43-119">*StoreType*</span></span> |<span data-ttu-id="2af43-120">Número que identifica el tipo de almacén que contiene el objeto que se va a indizar.</span><span class="sxs-lookup"><span data-stu-id="2af43-120">A number that identifies the type of the store that contains the object to be indexed.</span></span> <span data-ttu-id="2af43-121">Los valores posibles son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="2af43-121">The possible values are as follows:</span></span><br/><span data-ttu-id="2af43-122">- 0: almacén predeterminado.</span><span class="sxs-lookup"><span data-stu-id="2af43-122">- 0 - Default store.</span></span><br/><br/><span data-ttu-id="2af43-123">- 1- Almacén delegado, que se usa para los elementos delegados almacenados en caché localmente.</span><span class="sxs-lookup"><span data-stu-id="2af43-123">- 1 - Delegate store, used for delegate items cached locally.</span></span><br/><br/><span data-ttu-id="2af43-124">- 2: carpetas públicas, usadas para los favoritos de las carpetas públicas.</span><span class="sxs-lookup"><span data-stu-id="2af43-124">- 2 - Public folders, used for public folder favorites.</span></span><br/><br/><span data-ttu-id="2af43-125">**NOTA:** Si el almacén se rastrea en lugar de insertarse, el valor que se usa es el carácter *X*.</span><span class="sxs-lookup"><span data-stu-id="2af43-125">**NOTE**: If the store is being crawled instead of pushed, the value that is used is the character *X*.</span></span>| 
|<span data-ttu-id="2af43-126">*FolderNameA/.../FolderNameN*</span><span class="sxs-lookup"><span data-stu-id="2af43-126">*FolderNameA/…/FolderNameN*</span></span> |<span data-ttu-id="2af43-127">Ruta de acceso desde la raíz del IPM_SUBTREE a la carpeta o mensaje.</span><span class="sxs-lookup"><span data-stu-id="2af43-127">The path from the root of the IPM_SUBTREE to the folder or message.</span></span> <span data-ttu-id="2af43-128">Por ejemplo, un mensaje de la carpeta **Familia** de la **Bandeja de** entrada tiene la Bandeja **de entrada/Familia** para este parámetro.</span><span class="sxs-lookup"><span data-stu-id="2af43-128">For example, a message in the **Family** folder under **Inbox** has **Inbox/Family** for this parameter.</span></span> |
|<span data-ttu-id="2af43-129">*EntryIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="2af43-129">*EntryIDEncoded*</span></span> |<span data-ttu-id="2af43-130">Identificador de entrada MAPI para el elemento codificado como una cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="2af43-130">MAPI entry ID for the item encoded as a Unicode string.</span></span> <span data-ttu-id="2af43-131">Vea la siguiente sección "Caracteres especiales" para obtener información sobre cómo se codifican determinados caracteres especiales.</span><span class="sxs-lookup"><span data-stu-id="2af43-131">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="2af43-132">Para obtener más información acerca del algoritmo para codificar el identificador de entrada, vea Algoritmo para codificar identificadores de entrada e [identificadores de datos adjuntos.](algorithm-to-encode-entry-ids-and-attachment-ids.md)</span><span class="sxs-lookup"><span data-stu-id="2af43-132">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="2af43-133">**NOTA:** Cuando se ve como texto, este identificador de entrada codificada aparece como caracteres hangul aleatorios o cuadros de acuerdo con el algoritmo, en función de las fuentes disponibles.</span><span class="sxs-lookup"><span data-stu-id="2af43-133">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span>  |
|<span data-ttu-id="2af43-134">*AttachIDEncoded*</span><span class="sxs-lookup"><span data-stu-id="2af43-134">*AttachIDEncoded*</span></span> |<span data-ttu-id="2af43-135">Identificador de datos adjuntos codificado como una cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="2af43-135">Attachment ID encoded as a Unicode string.</span></span> <span data-ttu-id="2af43-136">Vea la siguiente sección "Caracteres especiales" para obtener información sobre cómo se codifican determinados caracteres especiales.</span><span class="sxs-lookup"><span data-stu-id="2af43-136">See the following section "Special Characters" for information about how certain special characters are encoded.</span></span> <span data-ttu-id="2af43-137">Para obtener más información acerca del algoritmo para codificar el identificador de entrada, vea Algoritmo para codificar identificadores de entrada e [identificadores de datos adjuntos.](algorithm-to-encode-entry-ids-and-attachment-ids.md)</span><span class="sxs-lookup"><span data-stu-id="2af43-137">For more information about the algorithm to encode the entry ID, see [Algorithm to Encode Entry IDs and Attachment IDs](algorithm-to-encode-entry-ids-and-attachment-ids.md).</span></span><br/><br/><span data-ttu-id="2af43-138">**NOTA:** Cuando se ve como texto, este identificador de entrada codificada aparece como caracteres hangul aleatorios o cuadros de acuerdo con el algoritmo, en función de las fuentes disponibles.</span><span class="sxs-lookup"><span data-stu-id="2af43-138">**NOTE**: When viewed as text, this encoded entry ID appears as random Hangul characters or boxes in compliance with the algorithm, depending on available fonts.</span></span> |
|<span data-ttu-id="2af43-139">*FileName*</span><span class="sxs-lookup"><span data-stu-id="2af43-139">*FileName*</span></span> |<span data-ttu-id="2af43-140">Nombre del archivo adjunto, tal como aparece en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="2af43-140">Name of the attachment file, as it appears in the message.</span></span>|
    
## <a name="examples-of-mapi-urls"></a><span data-ttu-id="2af43-141">Ejemplos de direcciones URL MAPI</span><span class="sxs-lookup"><span data-stu-id="2af43-141">Examples of MAPI URLs</span></span>

<span data-ttu-id="2af43-142">A continuación se muestran algunos ejemplos de direcciones URL MAPI.</span><span class="sxs-lookup"><span data-stu-id="2af43-142">The following are some examples of MAPI URLs.</span></span>
  
- <span data-ttu-id="2af43-143">Dirección URL MAPI de una carpeta:</span><span class="sxs-lookup"><span data-stu-id="2af43-143">MAPI URL for a folder:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($be19928f)/2/Office`
    
- <span data-ttu-id="2af43-144">Dirección URL DE MAPI para un mensaje:</span><span class="sxs-lookup"><span data-stu-id="2af43-144">MAPI URL for a message:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Calendar/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾걤곂갠가`
    
- <span data-ttu-id="2af43-145">Dirección URL MAPI para datos adjuntos:</span><span class="sxs-lookup"><span data-stu-id="2af43-145">MAPI URL for an attachment:</span></span> 
    
  `mapi://S-1-5-21-2127521184-1604012920-1887927527-71418/Mailbox - Some User ($484efb89)/0/Inbox/곯가가가걍걝걌곌겷걢곒갑겛개가검걟곔걙곾간곷갦가/at=겅걋각가:somefile.txt`
    
## <a name="special-characters"></a><span data-ttu-id="2af43-146">Caracteres especiales</span><span class="sxs-lookup"><span data-stu-id="2af43-146">Special characters</span></span>

<span data-ttu-id="2af43-147">Ciertos caracteres se codifican si aparecen en el mensaje o en los datos adjuntos.</span><span class="sxs-lookup"><span data-stu-id="2af43-147">Certain characters are encoded if they appear in the message or attachment.</span></span> <span data-ttu-id="2af43-148">A continuación se muestran los caracteres que se codifican en una dirección URL MAPI:</span><span class="sxs-lookup"><span data-stu-id="2af43-148">The following shows which characters are encoded in a MAPI URL:</span></span>
  
- <span data-ttu-id="2af43-149">% > %25</span><span class="sxs-lookup"><span data-stu-id="2af43-149">% > %25</span></span>
    
- <span data-ttu-id="2af43-150">/ > %2F</span><span class="sxs-lookup"><span data-stu-id="2af43-150">/ > %2F</span></span> 
    
- <span data-ttu-id="2af43-151">\ > %5C</span><span class="sxs-lookup"><span data-stu-id="2af43-151">\ > %5C</span></span> 
    
- <span data-ttu-id="2af43-152">\* > %2A</span><span class="sxs-lookup"><span data-stu-id="2af43-152">\* > %2A</span></span> 
    
- <span data-ttu-id="2af43-153">?</span><span class="sxs-lookup"><span data-stu-id="2af43-153">?</span></span> <span data-ttu-id="2af43-154">> %3F</span><span class="sxs-lookup"><span data-stu-id="2af43-154">> %3F</span></span> 
    
## <a name="blob-associated-with-each-mapi-url"></a><span data-ttu-id="2af43-155">Blob asociado con cada dirección URL MAPI</span><span class="sxs-lookup"><span data-stu-id="2af43-155">Blob associated with each MAPI URL</span></span>

<span data-ttu-id="2af43-156">Al insertar una dirección URL MAPI para que se indexe un objeto, un proveedor de almacén también crea un objeto binario grande (BLOB) que contiene cierta información para el controlador de protocolo MAPI.</span><span class="sxs-lookup"><span data-stu-id="2af43-156">When pushing a MAPI URL for an object to be indexed, a store provider also creates a binary large object (BLOB) that contains certain information for the MAPI Protocol Handler.</span></span> <span data-ttu-id="2af43-157">El proveedor de almacén asocia este blob con cada dirección URL MAPI y lo envía al insertar la dirección URL MAPI en el indizador.</span><span class="sxs-lookup"><span data-stu-id="2af43-157">The store provider associates this BLOB with each MAPI URL and sends it when pushing the MAPI URL to the indexer.</span></span> <span data-ttu-id="2af43-158">El formato del BLOB es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="2af43-158">The format of the BLOB is as follows:</span></span> 
  
```cpp
DWORD  dwVersion
DWORD  dwFlags
ULONG  cbProfileName
WCHAR  wszProfileName
ULONG  cbProviderItemID
WCHAR  wszProviderItemID
```

<span data-ttu-id="2af43-159">El proveedor del almacén debe escribir estos valores en el BLOB en el orden mostrado.</span><span class="sxs-lookup"><span data-stu-id="2af43-159">The store provider must write these values to the BLOB in the order shown.</span></span> <span data-ttu-id="2af43-160">En la tabla siguiente se describe cada campo del BLOB.</span><span class="sxs-lookup"><span data-stu-id="2af43-160">The following table describes each field of the BLOB.</span></span>

|<span data-ttu-id="2af43-161">Parte</span><span class="sxs-lookup"><span data-stu-id="2af43-161">Part</span></span> | <span data-ttu-id="2af43-162">Descripción</span><span class="sxs-lookup"><span data-stu-id="2af43-162">Description</span></span>|
|:----|:-----------|  
|<span data-ttu-id="2af43-163">*dwVersion*</span><span class="sxs-lookup"><span data-stu-id="2af43-163">*dwVersion*</span></span> |<span data-ttu-id="2af43-164">Esta es la versión de los datos que se envían.</span><span class="sxs-lookup"><span data-stu-id="2af43-164">This is the version of the data being sent.</span></span> <span data-ttu-id="2af43-165">Actualmente, este valor es 1.</span><span class="sxs-lookup"><span data-stu-id="2af43-165">Currently this value is 1.</span></span>|
|<span data-ttu-id="2af43-166">*dwFlags*</span><span class="sxs-lookup"><span data-stu-id="2af43-166">*dwFlags*</span></span> |<span data-ttu-id="2af43-167">Reservado para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="2af43-167">Reserved for future use.</span></span> <span data-ttu-id="2af43-168">Actualmente, este valor debe ser 0.</span><span class="sxs-lookup"><span data-stu-id="2af43-168">Currently this value should be 0.</span></span>|
|<span data-ttu-id="2af43-169">*cbProfileName*</span><span class="sxs-lookup"><span data-stu-id="2af43-169">*cbProfileName*</span></span> |<span data-ttu-id="2af43-170">El tamaño del nombre del perfil, en bytes.</span><span class="sxs-lookup"><span data-stu-id="2af43-170">The size of the profile name, in bytes.</span></span> <span data-ttu-id="2af43-171">Esta información es útil para que el controlador de protocolo MAPI sepa qué perfil usar al indizar el elemento.</span><span class="sxs-lookup"><span data-stu-id="2af43-171">This information is useful for the MAPI Protocol Handler to know which profile to use when indexing the item.</span></span>|
|<span data-ttu-id="2af43-172">*wszProfileName*</span><span class="sxs-lookup"><span data-stu-id="2af43-172">*wszProfileName*</span></span> |<span data-ttu-id="2af43-173">Cadena Unicode terminada en null que contiene el nombre del perfil.</span><span class="sxs-lookup"><span data-stu-id="2af43-173">Null-terminated Unicode string that contains the profile name.</span></span>|
|<span data-ttu-id="2af43-174">*cbProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="2af43-174">*cbProviderItemID*</span></span> |<span data-ttu-id="2af43-175">Tamaño del identificador de elemento del proveedor, en bytes.</span><span class="sxs-lookup"><span data-stu-id="2af43-175">Size of the provider item ID, in bytes.</span></span> <span data-ttu-id="2af43-176">El proveedor de almacenamiento solo debe enviar el identificador de elemento del proveedor para las carpetas, para evitar abrir carpetas adicionales para obtener esta información.</span><span class="sxs-lookup"><span data-stu-id="2af43-176">The store provider should send only the provider item ID for folders, to prevent opening additional folders to get this information.</span></span>|
|<span data-ttu-id="2af43-177">*wszProviderItemID*</span><span class="sxs-lookup"><span data-stu-id="2af43-177">*wszProviderItemID*</span></span> |<span data-ttu-id="2af43-178">Cadena Unicode terminada en null con el identificador de elemento de proveedor que identifica de forma única el elemento en el almacén.</span><span class="sxs-lookup"><span data-stu-id="2af43-178">Null-terminated Unicode string with the provider item ID that uniquely identifies the item in the store.</span></span>|
    
## <a name="see-also"></a><span data-ttu-id="2af43-179">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2af43-179">See also</span></span>

- [<span data-ttu-id="2af43-180">Acerca Notification-Based indexación de la Tienda</span><span class="sxs-lookup"><span data-stu-id="2af43-180">About Notification-Based Store Indexing</span></span>](about-notification-based-store-indexing.md)
- [<span data-ttu-id="2af43-181">Constantes MAPI</span><span class="sxs-lookup"><span data-stu-id="2af43-181">MAPI Constants</span></span>](mapi-constants.md)

